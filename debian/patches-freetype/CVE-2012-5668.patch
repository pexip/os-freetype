Description: fix denial of service and possible code execution via NULL
 pointer dereference
Origin: upstream, http://git.savannah.gnu.org/cgit/freetype/freetype2.git/commit/?id=9b6b5754b57c12b820e01305eb69b8863a161e5a
Bug: https://savannah.nongnu.org/bugs/?37905
Bug-Debian: http://bugs.debian.org/cgi-bin/bugreport.cgi?bug=696691

Index: freetype-2.4.8/src/bdf/bdflib.c
===================================================================
--- freetype-2.4.8.orig/src/bdf/bdflib.c	2013-01-11 13:49:19.327207460 -0500
+++ freetype-2.4.8/src/bdf/bdflib.c	2013-01-11 13:49:19.000000000 -0500
@@ -2138,7 +2138,10 @@
       p->cnt = p->font->props_size = _bdf_atoul( p->list.field[1], 0, 10 );
 
       if ( FT_NEW_ARRAY( p->font->props, p->cnt ) )
+      {
+        p->font->props_size = 0;
         goto Exit;
+      }
 
       p->flags |= _BDF_PROPS;
       *next     = _bdf_parse_properties;
